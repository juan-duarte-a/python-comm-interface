from comm_interface.ml_comm import CommInterface, Actions
import time

# comm: CommInterface = CommInterface(0, True)
# comm.connect()
# comm.communicate_test(50000)
# comm.send_action(Actions.END)
# comm.close_comm()
# print("Finished!")

comm: CommInterface = CommInterface(verbose_option=True)
comm.connect()

while True:
    time.sleep(1)
    # for i in range(1000):
    #     comm.distance_from_center()
    #     time.sleep(1)
    comm.send_action(Actions.RUN)
    print(comm.state_parameters)
    time.sleep(3.9760305881500244)
    comm.send_action(Actions.TURN_RIGHT)
    print(comm.state_parameters)
    time.sleep(0.5039234161376953)
    comm.send_action(Actions.TURN_RIGHT)
    print(comm.state_parameters)
    time.sleep(0.5440707206726074)
    comm.send_action(Actions.TURN_RIGHT)
    print(comm.state_parameters)
    time.sleep(1.9199564456939697)
    comm.send_action(Actions.TURN_RIGHT)
    print(comm.state_parameters)
    time.sleep(0.5679113864898682)
    comm.send_action(Actions.TURN_RIGHT)
    print(comm.state_parameters)
    time.sleep(0.3519778251647949)
    comm.send_action(Actions.TURN_RIGHT)
    print(comm.state_parameters)
    time.sleep(4.792044639587402)
    comm.send_action(Actions.TURN_LEFT)
    print(comm.state_parameters)
    time.sleep(0.4639310836791992)
    comm.send_action(Actions.TURN_LEFT)
    print(comm.state_parameters)
    time.sleep(0.48001742362976074)
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(0.37596893310546875)
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(0.3679370880126953)
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(0.3919551372528076)
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(2.280032157897949)
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.5759475231170654)
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.7759978771209717)
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.6399574279785156)
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.4877173900604248)
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.7202260494232178)
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(4.504051923751831)
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.6078417301177979)
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.632012128829956)
    comm.send_action(Actions.TURN_RIGHT)
    print(comm.state_parameters)
    time.sleep(3.320042610168457)
    comm.send_action(Actions.TURN_RIGHT)
    print(comm.state_parameters)
    time.sleep(0.5921707153320312)
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.5117740631103516)
    comm.send_action(Actions.TURN_RIGHT)
    print(comm.state_parameters)
    time.sleep(1.1438047885894775)
    comm.send_action(Actions.TURN_LEFT)
    print(comm.state_parameters)
    time.sleep(0.4802279472351074)
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(0.4399528503417969)
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(0.7979538726806641)
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.5519630908966064)
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.6880004405975342)
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.6318816757202148)
    comm.send_action(Actions.STOP)
    time.sleep(1)
    # break

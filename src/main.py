from comm_interface.ml_comm import CommInterface, Actions
import time

# comm: CommInterface = CommInterface(0)
# comm.connect()
# comm.communicate_test(50000)
# comm.send_action(Actions.END)
# comm.close_comm()
# print("Finished!")

comm: CommInterface = CommInterface()
comm.connect()

while True:
    time.sleep(1)
    # for i in range(1000):
    #     comm.distance_from_center()
    #     time.sleep(1)
    comm.send_action(Actions.RUN)
    time.sleep(3.58333)
    # print(comm.distance_from_center())
    # print(comm.is_oriented())
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.43333)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.56633)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(2.05033)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.43333)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.46333)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(4.70233)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(0.40033)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(0.33333)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(0.29933)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(0.36733)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(0.33333)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(2.19933)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.38333)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.70333)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.93333)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.40033)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.68333)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(4.39733)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.40233)
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.79933)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(3.41733)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.41633)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.36633)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.83333)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(0.68333)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(0.350333)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_LEFT)
    time.sleep(0.95833)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.41633)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(0.75033)
    print(comm.distance_from_center())
    comm.send_action(Actions.TURN_RIGHT)
    time.sleep(1.01933)
    print(comm.distance_from_center())
    comm.send_action(Actions.STOP)
    time.sleep(1)
    # break
